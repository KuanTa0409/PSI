<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>PSI Chart</title>
	<link rel="stylesheet"
		href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<style>
        .section-title {
            color: #2c3e50;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 2.2rem;
            font-weight: 800;
            margin: 25px 0;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            transition: color 0.3s ease;
        }
    </style>
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" th:inline="javascript"> 
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['商品', '採購數量', '銷售數量'],
          /*[# th:each="inv : ${inventories}"]*/
        	['[[${inv.name}]]', 
            [[${inv.amount1 != null ? inv.amount1 : 0}]], 
            [[${inv.amount2 != null ? inv.amount2 : 0}]]], 
          /*[/]*/
        ]);

        var options = {
          title: '商品採購與銷售',
          legend: { position: 'top' },
          colors: ['#2ecc71', '#3498db'],  // 綠色代表採購，紅色代表銷售
          bar: { groupWidth: '70%' },
          isStacked: false,
          vAxis: {
              title: '數量'
          },
          hAxis: {
              title: '商品名稱',
              slantedText: true,
              slantedTextAngle: 45
          }
        };

        var chart = new google.visualization.ColumnChart(document.getElementById('piechart'));

        chart.draw(data, options);
      }
    </script>	
</head>
<body>
	<div class="container my-2">
		<!-- Header -->
		<div th:include="header :: header"></div>
		<!-- Content -->
		<h1 class="section-title">採購&銷售</h1>
		<div id="piechart" style="width: 900px; height: 500px;"></div>        
		<!-- Footer -->
		<div th:include="footer :: footer"></div>
	</div>
</body>
</html>
